
;スキル名
@SKILL_NAME_XXXX,ARG
RESULTS = デビルトリガー

;　命中
@SKILL_HITRATE_XXXX, ARG
RETURN 100

;　威力
@SKILL_POWER_XXXX, ARG
RETURN 0

;　最低攻撃回数
@SKILL_MINATTACKNUMBER_XXXX,ARG
RETURN 1

;　最大攻撃回数
@SKILL_MAXATTACKNUMBER_XXXX,ARG
RETURN 1

;　ＨＰ2を支払うかＭＰ3を支払うか
@SKILL_COSTTYPE_XXXX, ARG
RETURN 1
;消費なし＝1

;　コストの量
@SKILL_COST_XXXX,ARG
RETURN 0

;　相性
@SKILL_TYPE_XXXX,ARG
RETURN 17

;　1EXTRAか2MAGICか
@SKILL_DECIDE_TYPE_XXXX
RETURN 0
;どちらでもない

;　1物理ダメージで計算するか2魔法ダメージで計算するか
@SKILL_DAMAGETYPE_XXXX
RETURN 0


;　対象が1敵か2味方か3場全体か4特殊か
@SKILL_TARGET_XXXX
RETURN 4

;　射程
@SKILL_RANGE_XXXX,ARG
RETURN 1

;　範囲　1単体　21列　3全体　4　敵味方全体
@SKILL_SPHERE_XXXX,ARG
RETURN 1

;　 効果のタイプ　1攻撃、2回復、3状態変化、4特殊、5状態回復
@SKILL_EFECT_XXXX
RETURN 4

;　 特殊処理の有無、及び処理内容
@SKILL_SPECIALEFECT_XXXX,ARG
;ARG = 1だった場合は処理の有無を返します
SIF ARG == 1
	RETURN 0
;以下に特殊な処理を記述します

;継承タイプ
@SKILL_SUCCESSION_TYPE_XXXX
RETURN 23
;氷結

;速度補正
@SKILL_SPEED_XXXX, ARG = -1
RETURN 3

;　口上の表示とそのタイプ
@SKILL_MESSAGE_XXXX,ARG

;戦闘時以外に使用できるか
@SKILL_ACTIONABLE_FIELD_XXXX
RETURN 0

;スキル変化？用ランク
@SKILL_RANK_XXXX
RETURN 23

@SKILL_RANKUP_XXXX
RETURN 0


;テンプレート用、追加効果シリーズ
;追加効果ステータス
@SKILL_ADDTIONAL_STATE_XXXX,ARG
RETURN 0

;追加効果相性
@SKILL_ADDTIONAL_TYPE_XXXX,ARG
RETURN 0

;追加効果基本付与確率
@SKILL_ADDTIONAL_BASE_RATE_XXXX,ARG
RETURN 0

;追加効果付与確率上限
@SKILL_ADDTIONAL_MAX_RATE_XXXX,ARG
RETURN 0

;====================================================
;行動によるスキルゲージ操作
;====================================================
@SKILLGAGE_CHARGE_XXXX,ARG,ARG:1
#LOCALSIZE 1
SIF SKILLGAGE_D_GET(ARG,XXXX) > 0
	RETURN 0
;自分の行動の場合
IF ARG == ARG:1
	;ダメージを受けた敵の数に応じてスキルゲージアップ
	FOR LOCAL,0,CHARANUM
		SIF CFLAG:LOCAL:PTフラグ == CFLAG:ARG:PTフラグ
			CONTINUE
		IF CFLAG:LOCAL:現ダメージ > 0
			CALL SKILLGAGE_H_ADD,ARG,XXXX,3
		ELSE
			CONTINUE
		ENDIF
		;会心、弱点を出すとさらにアップ
		SIF GETBIT(CFLAG:LOCAL:受けフラグ,21)
			CALL SKILLGAGE_H_ADD,ARG,XXXX,2
		SIF GETBIT(CFLAG:LOCAL:受けフラグ,22)
			CALL SKILLGAGE_H_ADD,ARG,XXXX,2
	NEXT
	;挑発をしても上がる
	SIF CFLAG:ARG:入力行動 == 515
		CALL SKILLGAGE_H_ADD,ARG,XXXX,7
ENDIF
;ダメージを受けた又はカウンター、トリガー以外の攻撃を受けたら
;怒りゲージが増える
IF CFLAG:ARG:現ダメージ > 0 || GETBIT(CFLAG:ARG:受けフラグ,18) || GETBIT(CFLAG:ARG:受けフラグ,19)
	LOCAL = 60 * CFLAG:ARG:現ダメージ / MAXBASE:ARG:ＨＰ
	LOCAL = LOCAL < 2 ? 2 # LOCAL
	CALL SKILLGAGE_H_ADD,ARG,XXXX,LOCAL
ENDIF
;スキルゲージが100以上だと100にする
SIF SKILLGAGE_H_GET(ARG,XXXX) > 100
	CALL SKILLGAGE_H_SET,ARG,XXXX,100
RETURN 0

;====================================================
;スキル及び行動の実行
;====================================================

@ACTION_XXXX,ARG,ARG:1

CALL SKILLGAGE_H_SET,ARG,XXXX,0
CALL SKILLGAGE_D_SET,ARG,XXXX,5
PRINTFORMW %CALLNAME:ARG%はデビルトリガーを使い魔人化した！
;====================================================
;実行内容ここまで
;====================================================

;====================================================
;追加コマンド(一番下)
;====================================================
@SKILL_SPECIAL_COMMAND_XXXX,ARG,LOCAL
#LOCALSIZE 1
IF SKILLGAGE_H_GET(ARG,XXXX) > 99
	SETCOLOR 0xdc143c
	PRINTFORML [{LOCAL}] DEVIL TRIGGER
	C:LOCAL = 1XXXX
	LOCAL += 1
	RESETCOLOR
ENDIF
RETURN LOCAL
;====================================================
;コマンド実行
;====================================================
@INPUT_COM_1XXXX,ARG
#LOCALSIZE 1
LOCAL = CFLAG:ARG:入力行動
CFLAG:ARG:入力行動 = XXXX
SETCOLOR 0x33ffcc
PRINTFORML ┏>CHARA━━━━━━━━━━┓　┏>ACT━━━━━━━━━━━━━━━━━━┓
PRINTFORM ┃[{CPOS(ARG),2}] %CALLNAME:ARG,21,LEFT%┃　┃
CALLFORM SKILL_NAME_XXXX,ARG
PRINTFORML %RESULTS,40,LEFT%┃
PRINTFORMW ┗━━━━━━━━━━━━━┛　┗━━━━━━━━━━━━━━━━━━━━┛
RESETCOLOR
SWAP TARGET,ARG
CALL ACTION_2310,TARGET
CALL 口上呼び出し , "BATTLE_MESSAGE" , TARGET , TARGET
SWAP TARGET,ARG
CFLAG:ARG:入力行動 = LOCAL
RETURN -1
;====================================================
;戦闘中スキルゲージの可視化
;====================================================
@SKILLGAGE_DISPLAY_XXXX,ARG
SETCOLOR 0xff4500
SIF SKILLGAGE_D_GET(ARG,XXXX) > 0
	SETCOLOR 0xdc143c
IF SKILLGAGE_D_GET(ARG,XXXX) > 0
	PRINTFORML 魔人化　残り{SKILLGAGE_D_GET(ARG,XXXX)}ターン
ELSEIF SKILLGAGE_H_GET(ARG,XXXX) < 100
	PRINTFORML DTゲージ　{SKILLGAGE_H_GET(ARG,XXXX),3}％
ENDIF
RESETCOLOR

;　 説明文の表示
@SKILL_EXPLAIN_XXXX
PRINTL DTゲージが付き、ダメージを受ける、ダメージを与える、挑発をすると溜まるようになる
PRINTL 100までたまると使用できるようになり、魔人化する

;継承に必要な部位
@継承部位_XXXX,ARG
RETURN 1
;とくにない

;使用条件
@SKILL_SPECIAL_ACTIONABLE_XXXX,ARG
SIF SKILLGAGE_H_GET(ARG,XXXX) > 99
	RETURN 1
RETURN 0
;とくにない
