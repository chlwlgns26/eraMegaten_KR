
;====================
;初めに
;====================

KSTR:(K++) ;←この中に口上をぶち込む
　　　　　;PLINTFORMLと同じ出力になる
W:K = 1   ;←口上を区切りたいときはこれを挟む
　　　　　;PLINTFORMWと同じにする

KSTR:(K++) = %UNICODE(0x2661)%;←ハートも入れることができる


;使用例
KSTR:(K++) = 部屋に入った
KSTR:(K++) = その時……
W:K = 1
KSTR:(K++) = %UNICODE(0x2661)%型のクッキーがあった
↓
部屋に入った
その時……(WAIT)
○型のクッキーがあった

※○の中にはしっかりハートが入ります。

口上が正常に表示されなくなるので下記の項目は消さないようにする
K = 0
VARSET STR
VARSET W

FOR GYOU,0,501
	SIF KSTR:GYOU == ""
		BREAK
	PRINTFORM %KSTR:GYOU%
	IF W:(GYOU + 1)
		PRINTW
	ELSE
		PRINTL
	ENDIF
NEXT
SIF W:GYOU == 0
	PRINTW
RETURN 0

※関数のはじめと終わりにある

;-------------------------------------------------
;仕組み
;-------------------------------------------------
K = 0
VARSET STR
VARSET W
↑上の三行で口上に使用する関数を初期化

KSTR:(K++) = 口上を簡単に作らせたい
W:K = 1
KSTR:(K++) = 質問があれば
KSTR:(K++) = いつでも言ってね
↑STRに使用する文字列を入れる


FOR GYOU,0,501
	SIF KSTR:GYOU == ""
		BREAK
	PRINTFORM %KSTR:GYOU%
	IF W:(GYOU + 1)
		PRINTW
	ELSE
		PRINTL
	ENDIF
NEXT
SIF W:GYOU == 0
	PRINTW
RETURN 0
↑ここでSTRに入った文字列を出力している（これがないと口上を出せない）


;====================
;口上項目
;====================

;-------------------------------------------------
;65,乳ファック
;-------------------------------------------------
	CASE 65
		CALL TRAIN_MESSAGE
		;初めて
		IF CFLAG:337 == 0
			KSTR:(K++) =
			CFLAG:337 = 1
		ELSE
			IF (TALENT:3 || TALENT:4 || TALENT:5 || TALENT:6 || TALENT:7 || TALENT:8) && (CFLAG:337 < 3 || FLAG:7 == 2)
				;恋慕、親愛
				IF (TALENT:3 || TALENT:6)
					KSTR:(K++) = 
				;淫乱、娼婦	
				ELSEIF (TALENT:4 || TALENT:7)
					KSTR:(K++) = 
				;服従、隷属	
				ELSEIF (TALENT:5 || TALENT:8)
					KSTR:(K++) = 
				ENDIF
				;陥落済み共通−−−−−−−−−−−−−−−−−−−−−−−−ー−使わなければ消していい
				IF KSTR:0 == ""
					KSTR:(K++) = 
				ENDIF
				CFLAG:337 = 4
			ENDIF
			;屈服刻印Lv3
			IF MARK:2 == 3 && (CFLAG:337 < 2 || FLAG:7 == 2) && KSTR:0 == ""
				KSTR:(K++) = 
				CFLAG:337 = 3
			ENDIF
			;それ以外−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−ここに口上を入れれば必ずしゃべる
			IF (CFLAG:337 || FLAG:7 == 2) && KSTR:0 == ""
				KSTR:(K++) =
				CFLAG:337 = 2
			ENDIF
		ENDIF

陥落済み３種→陥落済み共通→屈服刻印Lv3→それ以外
という順番で口上の有無を探していく

陥落済み３種から下のIFは「KSTR:0 == ""」がついているので
STRに文字が入らない限り中を通らない
文字が被ってバグることがない

;====================
;使用例
;====================
※星あかりの口上をアレンジしたもの

;-------------------------------------------------
;1,クンニ
;-------------------------------------------------
	CASE 1
		CALL TRAIN_MESSAGE
		;初めて
		IF CFLAG:301 == 0
			KSTR:(K++) = 「えっ…なにするつもり！？」
			W:K = 1
			KSTR:(K++) = 「やだっ…！　信じらんない！？」
			CFLAG:301 = 1
		ELSE
			IF (TALENT:3 || TALENT:4 || TALENT:5 || TALENT:6 || TALENT:7 || TALENT:8) && (CFLAG:301 < 3 || FLAG:7 == 2)
				;恋慕、親愛
				IF (TALENT:3 || TALENT:6)
					KSTR:(K++) = 
				;淫乱、娼婦	
				ELSEIF (TALENT:4 || TALENT:7)
					KSTR:(K++) = 
				;服従、隷属	
				ELSEIF (TALENT:5 || TALENT:8)
					KSTR:(K++) = 
				ENDIF
				;陥落済み共通
				IF KSTR:0 == ""
					KSTR:(K++) = 
				ENDIF
				CFLAG:301 = 4
			ENDIF
			;屈服刻印Lv3
			IF MARK:2 == 3 && (CFLAG:301 < 2 || FLAG:7 == 2) && KSTR:0 == ""
				IF ABL:Ｃ感覚 > 2
					IF !RAND:3
						KSTR:(K++) = 「あっ、あっ、そこはぁ…%UNICODE(0x2661)%」
						W:K = 1
						KSTR:(K++) = 「気持良すぎておかしくなっちゃうよぉ%UNICODE(0x2661)%」
					ELSEIF RAND:2
						KSTR:(K++) = 「やっ…そんな音立てちゃ…んんっ…だめだよぉ…」
					ELSE
						KSTR:(K++) = 「そんなっ…がくがくしちゃう…あはっ…」
						W:K = 1
						KSTR:(K++) = 「や、ほんとに…ふぁぁ…」
					ENDIF
				ELSE
					IF !RAND:3
						KSTR:(K++) = 「やっ…もうご主人様…やっぱりこれ恥ずかしいよ」
					ELSEIF RAND:2
						KSTR:(K++) = 「ん…あ…ふぅ、そんなになめられたらなんか変な気分に…」
					ELSE
						KSTR:(K++) = 「あぅ…こんなところ汚いのに……でも、ちょっと嬉しいかな…ふふ」
					ENDIF
				ENDIF
				CFLAG:301 = 3
			ENDIF
			;それ以外
			IF (CFLAG:301 || FLAG:7 == 2) && KSTR:0 == ""
				IF ABL:Ｃ感覚 > 2
					IF !RAND:3
						KSTR:(K++) = 「あ…ふぁ、やだ…声がでちゃう…あっ…ん…」
					ELSEIF RAND:2
						KSTR:(K++) = 「こんなの…こんなの変態なのに…気持ち悪いのに…どうして…んんっ、あっ…ん…」
					ELSE
						KSTR:(K++) = 「やっ、だめぇ…こんなのおかしいよぉ…ひぁ…」
					ENDIF
				ELSE
					IF !RAND:3
						KSTR:(K++) = 「お願いだからやめてっ、こんなの恥ずかしくいよっ」
					ELSEIF RAND:2
						KSTR:(K++) = 「いやぁ、気持ち悪いよぉ…」
					ELSE
						KSTR:(K++) = 「なんで、こんなとこ舐めれるの？」
						W:K = 1
						KSTR:(K++) = 「汚いのに、頭おかしいよっ」
					ENDIF
				ENDIF
				CFLAG:301 = 2
			ENDIF
		ENDIF

陥落済みの所に口上はないが
その下に口上があるのでしゃべらなくなることはない

PRINTFORMWで口上を作っているところには
KSTR:(K++)の下にW:K = 1を置いている





