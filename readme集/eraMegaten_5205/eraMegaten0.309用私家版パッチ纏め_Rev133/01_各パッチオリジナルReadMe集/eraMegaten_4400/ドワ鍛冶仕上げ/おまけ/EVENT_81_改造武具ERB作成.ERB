
;イベントフラグ:80:0 = イベント閲覧チェック（未体験=0体験済=1）

;====================
;条件
;====================
@PLAYABLE_EVENT_81
RESULTS = 文章テスト
	RETURN 1


;====================
;内容
;====================
@SHOPCOM_EVENT_81

	PRINTW 文章テスト
CALL 文章テスト_81

@文章テスト_81
CLEARLINE 6000
;LOCAL = 0
;SETBIT LOCAL,0
;PRINTFORML {LOCAL}
;LOCAL = 0
;FOR COUNT,0,100
;	SETBIT LOCAL,COUNT
;	PRINTFORML {LOCAL}
;NEXT
FOR LOCAL,0,60
	 PRINTL ;======================================================
	 PRINTL ;装備品のデータ
 PRINTFORML ;改造%GET_EQUIP(LOCAL / 10)%装備{LOCAL}
	 PRINTL ;======================================================
	 PRINTL 
 PRINTFORML @基本能力修正_{改造装備アイテムナンバー(LOCAL)},ARG,ARG:1 = -1
	  PRINT TRYCCALLFORM 基本能力修正_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG,ARG:1
	 PRINTL 	LOCAL = RESULT
	 PRINTL CATCH
	 PRINTL 	LOCAL = 0
	 PRINTL ENDCATCH
 PRINTFORML LOCAL += パラメータ強化:{LOCAL}:ARG * 4
	 PRINTL RETURN LOCAL
	 PRINTL 
	 PRINTL 
 PRINTFORML @戦闘能力修正_{改造装備アイテムナンバー(LOCAL)},ARG,ARG:1 = -1
	  PRINT TRYCCALLFORM 戦闘能力修正_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG,ARG:1
	 PRINTL 	LOCAL = RESULT
	 PRINTL CATCH
	 PRINTL 	LOCAL = 0
	 PRINTL ENDCATCH
IF LOCAL < 10
		 PRINTL SELECTCASE ARG
		 PRINTL 	CASE 0,1,4
		 PRINTL 		IF 200 < LOCAL
	 PRINTFORML 			LOCAL += プラス数:{LOCAL} * 2
		 PRINTL 		ELSEIF 99 < LOCAL
	 PRINTFORML 			LOCAL = LOCAL * (100 + プラス数:{LOCAL}) / 100
		 PRINTL 		ELSE
	 PRINTFORML 			LOCAL += プラス数:{LOCAL}
		 PRINTL 		ENDIF
		 PRINTL 	CASE 5
		 PRINTL 		IF 200 < LOCAL
	 PRINTFORML 			LOCAL += プラス数:{LOCAL} * 2
		 PRINTL 		ELSEIF 49 < LOCAL
	 PRINTFORML 			LOCAL = LOCAL * (100 + プラス数:{LOCAL}) / 100
		 PRINTL 		ELSE
	 PRINTFORML 			LOCAL += プラス数:{LOCAL} / 2
		 PRINTL 		ENDIF
		 PRINTL 	CASEELSE
		 PRINTL 		IF 200 < LOCAL
	 PRINTFORML 			LOCAL += プラス数:{LOCAL} * 2
		 PRINTL 		ELSE
	 PRINTFORML 			LOCAL = LOCAL * (100 + プラス数:{LOCAL}) / 100
		 PRINTL 		ENDIF
		 PRINTL ENDSELECT
ELSEIF LOCAL < 20
		 PRINTL IF 200 < LOCAL
	 PRINTFORML 	LOCAL += プラス数:{LOCAL} * 2
		 PRINTL ELSE
	 PRINTFORML 	LOCAL = LOCAL * (100 + プラス数:{LOCAL}) / 100
		 PRINTL ENDIF
ELSE
		 PRINTL SELECTCASE ARG
		 PRINTL 	CASE 2,3
		 PRINTL 		IF 200 < LOCAL
	 PRINTFORML 			LOCAL += プラス数:{LOCAL} * 2
		 PRINTL 		ELSEIF 24 < LOCAL
	 PRINTFORML 			LOCAL = LOCAL * (100 + プラス数:{LOCAL}) / 100
		 PRINTL 		ELSE
	 PRINTFORML 			LOCAL += プラス数:{LOCAL} / 4
		 PRINTL 		ENDIF
		 PRINTL 	CASE 5
		 PRINTL 		IF 200 < LOCAL
	 PRINTFORML 			LOCAL += プラス数:{LOCAL} * 2
		 PRINTL 		ELSEIF 12 < LOCAL
	 PRINTFORML 			LOCAL = LOCAL * (100 + プラス数:{LOCAL}) / 100
		 PRINTL 		ELSE
	 PRINTFORML 			LOCAL += プラス数:{LOCAL} / 8
		 PRINTL 		ENDIF
		 PRINTL 	CASEELSE
		 PRINTL 		IF 200 < LOCAL
	 PRINTFORML 			LOCAL += プラス数:{LOCAL} * 2
		 PRINTL 		ELSE
	 PRINTFORML 			LOCAL = LOCAL * (100 + プラス数:{LOCAL}) / 100
		 PRINTL 		ENDIF
		 PRINTL ENDSELECT
ENDIF
 PRINTFORML LOCAL += 能力値強化:{LOCAL}:ARG * 10 * (100 + プラス数:{LOCAL}) / 100
	 PRINTL RETURN LOCAL
 PRINTFORML 
 PRINTFORML @防御相性_{改造装備アイテムナンバー(LOCAL)},ARG,ARG:1 = -1
	  PRINT TRYCCALLFORM 防御相性_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG,ARG:1
 PRINTFORML 	LOCAL = RESULT
 PRINTFORML CATCH
 PRINTFORML 	LOCAL = 0
 PRINTFORML ENDCATCH
IF LOCAL > 19
	 PRINTFORML SIF LOCAL == 100
	 PRINTFORML 	RETURN LOCAL
	 PRINTFORML SIF ARG > 16
	 PRINTFORML 	RETURN LOCAL
	 PRINTFORML IF LOCAL > 0 && LOCAL != 999 && 属性耐性強化:{LOCAL}:ARG
	 PRINTFORML 	LOCAL -= 属性耐性強化:{LOCAL}:ARG * 20
	 PRINTFORML 	SIF LOCAL < 0
	 PRINTFORML 		LOCAL = 0
	 PRINTFORML 	SIF LOCAL < 100 && RESULT > 100
	 PRINTFORML 		LOCAL = 100
	 PRINTFORML ENDIF
ENDIF
 PRINTFORML RETURN LOCAL
 PRINTFORML 
 PRINTFORML @攻撃相性_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
	  PRINT TRYCCALLFORM 攻撃相性_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
 PRINTFORML RETURN RESULT
 PRINTFORML 
 PRINTFORML @バステ耐性_{改造装備アイテムナンバー(LOCAL)},ARG,ARG:1 = -1
	  PRINT TRYCCALLFORM バステ耐性_{
 PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG,ARG:1
IF LOCAL < 20
	 PRINTFORML CATCH
	 PRINTFORML ENDCATCH
	 PRINTFORML RETURN RESULT
ELSE
	 PRINTFORML 	LOCAL = RESULT
	 PRINTFORML CATCH
	 PRINTFORML 	LOCAL = 0
	 PRINTFORML ENDCATCH
	 PRINTFORML IF LOCAL > -100
	 PRINTFORML 	LOCAL -= バステ耐性強化:{LOCAL}:ARG * 50
	 PRINTFORML 	SIF LOCAL < -100
	 PRINTFORML 		LOCAL = -100
	 PRINTFORML ENDIF
	 PRINTFORML RETURN LOCAL
ENDIF
 PRINTFORML 
 PRINTFORML @最低攻撃回数_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
	  PRINT TRYCCALLFORM 最低攻撃回数_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
 PRINTFORML RETURN RESULT
 PRINTFORML 
 PRINTFORML @最大攻撃回数_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
	  PRINT TRYCCALLFORM 最大攻撃回数_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
 PRINTFORML RETURN RESULT
 PRINTFORML 
 PRINTFORML @射程_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
	  PRINT TRYCCALLFORM 射程_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
 PRINTFORML RETURN RESULT
 PRINTFORML 
 PRINTFORML @攻撃範囲_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
	  PRINT TRYCCALLFORM 攻撃範囲_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
 PRINTFORML RETURN RESULT
 PRINTFORML 
IF LOCAL < 20
	 PRINTFORML @追加効果_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
		  PRINT TRYCCALLFORM 追加効果_{
	  PRINTFORM ベース装備番号:{LOCAL}
		 PRINTL },ARG
	 PRINTFORML 	RETURN RESULT
	 PRINTFORML CATCH
	 PRINTFORML 	RETURN 0
	 PRINTFORML ENDCATCH
	 PRINTFORML 
	 PRINTFORML @追加効果相性_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
		  PRINT TRYCCALLFORM 追加効果相性_{
	  PRINTFORM ベース装備番号:{LOCAL}
		 PRINTL },ARG
	 PRINTFORML CATCH
	 PRINTFORML ENDCATCH
	 PRINTFORML RETURN RESULT
	 PRINTFORML 
	 PRINTFORML @追加効果命中率_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
		  PRINT TRYCCALLFORM 追加効果命中率_{
	  PRINTFORM ベース装備番号:{LOCAL}
		 PRINTL },ARG
	 PRINTFORML CATCH
	 PRINTFORML ENDCATCH
	 PRINTFORML RETURN RESULT
	 PRINTFORML 
	 PRINTFORML @追加効果最大命中率_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
		  PRINT TRYCCALLFORM 追加効果最大命中率_{
	  PRINTFORM ベース装備番号:{LOCAL}
		 PRINTL },ARG
	 PRINTFORML CATCH
	 PRINTFORML ENDCATCH
	 PRINTFORML RETURN RESULT
	 PRINTFORML 
ENDIF
 PRINTFORML @装備箇所_{改造装備アイテムナンバー(LOCAL)}
	  PRINT TRYCCALLFORM 装備箇所_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL }
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
 PRINTFORML RETURN RESULT
 PRINTFORML 
 PRINTFORML @装備追加スキル_{改造装備アイテムナンバー(LOCAL)},ARG,ARG:1 = -1
	  PRINT TRYCCALLFORM 装備追加スキル_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG,ARG:1
 PRINTFORML 	RETURN RESULT
 PRINTFORML CATCH
 PRINTFORML 	RETURN 0
 PRINTFORML ENDCATCH
 PRINTFORML ;-----------------------------
 PRINTFORML ;- ショップ
 PRINTFORML ;-----------------------------
 PRINTFORML @購入条件_{改造装備アイテムナンバー(LOCAL)}
 PRINTFORML RETURN 0
 PRINTFORML 
 PRINTFORML @必要レベル_{改造装備アイテムナンバー(LOCAL)}
	  PRINT TRYCCALLFORM 必要レベル_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL }
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
 PRINTFORML RETURN RESULT
 PRINTFORML 
 PRINTFORML @装備条件_{改造装備アイテムナンバー(LOCAL)},ARG
 PRINTFORML SIF (ABL:ARG:種族 == 0 || ABL:ARG:種族 == 36) == 0
 PRINTFORML 	RETURN 0
 PRINTFORML IF 軽量化数({LOCAL}) && !軽量キャラ使用
 PRINTFORML 	CALL 軽量化処理,ARG,{改造装備アイテムナンバー(LOCAL)}
 PRINTFORML 	RETURN RESULT
 PRINTFORML ENDIF
	  PRINT TRYCCALLFORM 必要レベル_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL }
 PRINTFORML 	SIF BASE:ARG:LV < RESULT
 PRINTFORML 		RETURN 0
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
 PRINTFORML RESULT = 0
	  PRINT TRYCCALLFORM 装備条件_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL },ARG
 PRINTFORML 	RETURN RESULT
 PRINTFORML CATCH
 PRINTFORML 	RETURN 0
 PRINTFORML ENDCATCH
 PRINTFORML 
 PRINTFORML @装備条件説明_{改造装備アイテムナンバー(LOCAL)}
	  PRINT TRYCCALLFORM 装備条件説明_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL }
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
 PRINTFORML SETCOLOR 0x66cc99
 PRINTFORML PRINTFORM 条件追加:
	  PRINT TRYCCALLFORM 必要レベル_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL }
	 PRINTL 	SIF RESULT > 1
	 PRINTL 		PRINTFORM LV{RESULT}〜　
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
 PRINTFORML PRINTFORML 人間、半魔人のみ
 PRINTFORML IF 軽量化数({LOCAL})
 PRINTFORML 	SETCOLOR 0xffde86
 PRINTFORML 	PRINTFORM 軽量化　:
 PRINTFORML 	SIF 装備軽量化:{LOCAL}
	  PRINT 		PRINTFORM 必要レベル -{
  PRINTFORM 装備軽量化:{LOCAL} * 10
	 PRINTL }　
 PRINTFORML 	SIF 装備パラ値軽量化:{LOCAL}
	  PRINT 		PRINTFORM 必要パラメータ -{
  PRINTFORM 装備パラ値軽量化:{LOCAL} * 10
	 PRINTL }　
 PRINTFORML 	SIF 装備男女軽量化:{LOCAL}
	 PRINTL 		PRINTFORM 性別制限無視　
 PRINTFORML 	SIF 装備アライメント軽量化:{LOCAL}
	 PRINTL 		PRINTFORM LD,LC属性無視　
 PRINTFORML 	PRINTL
 PRINTFORML ENDIF
 PRINTFORML RESETCOLOR
 PRINTFORML 
 PRINTFORML @装備解説_{改造装備アイテムナンバー(LOCAL)}
	  PRINT TRYCCALLFORM 装備解説_{
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL }
 PRINTFORML CATCH
 PRINTFORML ENDCATCH
	  PRINT PRINTFORML ベース：%ITEMNAME:(
  PRINTFORM ベース装備番号:{LOCAL}
	 PRINTL )%
 PRINTFORML RETURN 0
 PRINTFORML 
 PRINTFORML @引継ぎ可不可_{改造装備アイテムナンバー(LOCAL)}
 PRINTFORML RETURN 1
 PRINTFORML 
 PRINTFORML @最大所持数_{改造装備アイテムナンバー(LOCAL)}
 PRINTFORML RETURN 1
 PRINTFORML 
IF LOCAL < 10
	 PRINTFORML @剣タイプ_{改造装備アイテムナンバー(LOCAL)}
	 PRINTFORML ;1 = 刀　2 =レイピア　3 = 弓　　　　4 = 剣　5 = 槍　　　6 = 斧、鈍器
	 PRINTFORML ;7 = 鞭　8 =投具　　　9 = 杖、祭具　10= 棍　11= 拳闘具
		  PRINT TRYCCALLFORM 剣タイプ_{
	  PRINTFORM ベース装備番号:{LOCAL}
		 PRINTL }
	 PRINTFORML 	RETURN RESULT
	 PRINTFORML CATCH
	 PRINTFORML 	RETURN 0
	 PRINTFORML ENDCATCH
	 PRINTFORML 
	 PRINTFORML 
ELSEIF LOCAL < 20
	 PRINTFORML @銃攻撃_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
		  PRINT TRYCCALLFORM 銃攻撃_{
	  PRINTFORM ベース装備番号:{LOCAL}
		 PRINTL },ARG
	 PRINTFORML 	LOCAL = RESULT
	 PRINTFORML CATCH
	 PRINTFORML 	LOCAL = 0
	 PRINTFORML ENDCATCH
	 PRINTFORML IF 200 < LOCAL
	 PRINTFORML 	LOCAL += プラス数:{LOCAL} * 2
		 PRINTL ELSEIF 99 < LOCAL
	 PRINTFORML 	LOCAL = LOCAL * (100 + プラス数:{LOCAL}) / 100
	 PRINTFORML ELSE
	 PRINTFORML 	LOCAL += プラス数:{LOCAL}
	 PRINTFORML ENDIF
	 PRINTFORML LOCAL += 能力値強化:{LOCAL}:6 * (100 + プラス数:{LOCAL}) / 100
	 PRINTFORML RETURN LOCAL
	 PRINTFORML 
	 PRINTFORML @銃命中_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
		  PRINT TRYCCALLFORM 銃命中_{
	  PRINTFORM ベース装備番号:{LOCAL}
		 PRINTL },ARG
	 PRINTFORML 	LOCAL = RESULT
	 PRINTFORML CATCH
	 PRINTFORML 	LOCAL = 0
	 PRINTFORML ENDCATCH
	 PRINTFORML IF 200 < LOCAL
	 PRINTFORML 	LOCAL += プラス数:{LOCAL} * 2
		 PRINTL ELSEIF 99 < LOCAL
	 PRINTFORML 	LOCAL = LOCAL * (100 + プラス数:{LOCAL}) / 100
	 PRINTFORML ELSE
	 PRINTFORML 	LOCAL += プラス数:{LOCAL}
	 PRINTFORML ENDIF
	 PRINTFORML LOCAL += 能力値強化:{LOCAL}:7 * (100 + プラス数:{LOCAL}) / 100
	 PRINTFORML RETURN LOCAL
	 PRINTFORML 
	 PRINTFORML @特殊弾倉_{改造装備アイテムナンバー(LOCAL)}, ARG = -1
		  PRINT TRYCCALLFORM 特殊弾倉_{
	  PRINTFORM ベース装備番号:{LOCAL}
		 PRINTL },ARG
	 PRINTFORML 	RETURN RESULT
	 PRINTFORML CATCH
	 PRINTFORML 	RETURN 0
	 PRINTFORML ENDCATCH
	 PRINTFORML 
	 PRINTFORML @銃タイプ_{改造装備アイテムナンバー(LOCAL)}
	 PRINTFORML ;1 = ハンドガン 2 = ショットガン 3 = アサルトライフル、マシンガン 4 = 狙撃ライフル 5 = その他
		  PRINT TRYCCALLFORM 銃タイプ_{
	  PRINTFORM ベース装備番号:{LOCAL}
		 PRINTL }
	 PRINTFORML 	RETURN RESULT
	 PRINTFORML CATCH
	 PRINTFORML 	RETURN 0
	 PRINTFORML ENDCATCH
	 PRINTFORML 
	 PRINTFORML @速度補正_{改造装備アイテムナンバー(LOCAL)}
		  PRINT TRYCCALLFORM 速度補正_{
	  PRINTFORM ベース装備番号:{LOCAL}
		 PRINTL }
	 PRINTFORML 	RETURN RESULT
	 PRINTFORML CATCH
	 PRINTFORML 	RETURN 0
	 PRINTFORML ENDCATCH
	 PRINTFORML 
	 PRINTFORML 

ENDIF
IF LOCAL % 10 == 9
	WAIT
	CLEARLINE 6000
ENDIF
NEXT
 PRINTFORML 
 PRINTFORML 
 PRINTFORML 
 PRINTFORML 
 PRINTFORML 
 PRINTFORML 
 PRINTFORML 
 PRINTFORML 
CLEARLINE 1
PRINTFORML a
CLEARLINE 1
PRINTFORMW